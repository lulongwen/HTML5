<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>散点图组件</title>
	<link rel="stylesheet" href="assets/css/componentBase.css">
	<link rel="stylesheet" href="assets/css/componentScatter.css">
<style>
	body{
		margin: 0;
		background-color: #222;
	}
	.phone{
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		
		width: 360px;
		height:560px;
		background-color: #fff;
	}
</style>
</head>
<body>
	<!--	测试 H5  componentBase - 基本的图文组件 -->
	<div class="phone">
		
	</div>
	
	
<script src="assets/js/jquery-3.1.1.min.js"></script>
<script src="assets/js/componentBase.js"></script>
<script src="assets/js/vendor/componentScatter.js"></script>
<script>
/*
	cfg.data: [
		['A项目', .4, '#f06'],
		['B项目', .2, '#ff0', '-20%', '-70%'],
		['C项目', .3, '#6f0', 0, '150%']
	];
参数说明：
	- 第一个为基准
	- 手动设置其它数据的位置偏移
	- 相对第一个数据进行缩放
	$.each(cfg.data, function(i, elem){
		// elem[0] 每项的名称
		// elem[1] 每项的大小，以第一个为基准
			- var base = cfg.data[0][1];
			- elem[1]/base = 0.4/0.4 = 1 = 100%
			- elem[2]/base = 0.2/0.4 = 0.5 = 50%
			- elem[2]/base = 0.3/0.4 = 0.75 = 75%

		// elem[2] 每项的颜色
		// elem[3] 每项的位置 x轴，位置以第一个为基准缩放
		// elem[4] 每项的位置 y轴，位置以第一个为基准缩放

		cfg.data: [
			 elem[0] elem[1] elem[2]
			['A项目', .4, '#f06'],
								 elem[3] elem[4]
			['B项目', .2, '#ff0', '-20%', '-70%'],
			['C项目', .3, '#6f0', 0, '150%']
		];
	});
 */

	var cfg = {
		type: 'scatter',
		//text:  'H5 ComponentScatter',
		width: 300,
		height: 300,
		data: [
			['A项目', .4, '#f06'],
			['B项目', .2, '#ff0', '-20%', '-70%'],
			['C项目', .3, '#6f0', 0, '150%']
		],
		css: {
			top: '100%',
			opacity: 0
		},
		center: true,
		
		animateIn: {
			top: 150,
			opacity: 1
		},
		animateOut: {
			top: '100%',
			opacity: 0
		}
		
	};
	
	var component = new ComponentScatter('scatter',cfg);
	//console.log(component)
	
	$('.phone').append(component);
	
	
	// 点击切换动画
	var lock = true;
	$(document).on('click', function(){
		/*
		if(lock){
			$('.component').trigger('onLoad');
			
		}else{
			$('.component').trigger('onLeave')
		};
		*/
		// 三目运算
		$('.component').trigger( lock ? 'onLoad' : 'onLeave' );
		lock = !lock;
	});
	
	
	
</script>
</body>
</html>